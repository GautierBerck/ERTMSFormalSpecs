<NameSpace
 Y="60"
 Width="100"
 Height="50"
 Name="Testing"
 Guid="8512c7c4-384c-4f40-9183-c048e1549caf"
>
<NameSpaces>
<NameSpaceRef
 Name="Display"
 Guid="ca162c39-085e-48b3-bc8d-3cad43f08aa7"
>
</NameSpaceRef></NameSpaces>
<Procedures>
<Procedure
 X="20"
 Y="140"
 Width="100"
 Height="50"
 Pinned="TRUE"
 NeedsRequirement="FALSE"
 Name="InitializeTestEnvironment"
 Guid="7cde642d-80d9-4a06-9f70-c9a305706ab2"
>
<Comment>Sets variables to standard values for testing.</Comment>
<Parameters>
<Parameter
 Type="Default.BaseTypes.Distance"
 Name="TrainPosition"
 Guid="b894618b-26aa-4a32-847f-200c7b0a7005"
>
</Parameter></Parameters>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI"
 Guid="cbc776e4-b71e-47fd-9dd9-8530d55725a0"
>
<Comment>DMI1 will be the master and will be connected to the first desk of the CabA.
DMI2 will be the slave and will be connected to the first desk of the CabB.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI"
 Guid="ba51faed-8c84-4ab5-ba53-a295afb44b14"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="e1ee2cc9-4190-4538-a31b-abec6da6eee2"
>TIU.CabA.Desk1IsActive &lt;- True</Action><Action
 Guid="eb11d587-0237-4dab-9017-68297f3de1ab"
>DMI.DMI1.IsMaster &lt;- True</Action><Action
 Guid="21856a04-ea9e-4f80-b170-359f928e25e2"
>TIU.CabB.Desk1IsActive &lt;- False</Action><Action
 Guid="880fb6ea-f93f-426d-a18f-3cb85df1ab07"
>DMI.DMI2.IsMaster &lt;- False</Action><Action
 Guid="1701afb0-1c92-46ba-9854-71e4cf3da43f"
>DMI.DMI1.Cab &lt;- DMI.CabEnum.CabA</Action><Action
 Guid="fa57a880-158c-4211-964e-7c9419e83669"
>DMI.DMI2.Cab &lt;- DMI.CabEnum.CabB</Action><Action
 Guid="1b5980f5-92fd-4d2c-b57d-9b86789ecdf0"
>DMI.DMI1.Desk &lt;- DMI.CabDeskEnum.Desk1</Action><Action
 Guid="66b762d5-1b65-4766-8a1e-c2ac2170184d"
>DMI.DMI2.Desk &lt;- DMI.CabDeskEnum.Desk1</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Train position"
 Guid="f56351d1-ad26-469d-a848-02640e64e865"
>
<Comment>Initialization of the LRBG, of the train position, of the train orientation and the odometer accuracy.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Train position"
 Guid="c14ed61e-ab9c-400b-83ee-54c852292cc0"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="948430d8-d5d7-4d6e-968a-5c8458525168"
>BTM.LRBG &lt;- BTM.BaliseGroupStruct
{
    Timestamp =&gt; Kernel.DateAndTime.StartDate,
    Position =&gt; BTM.Position
    {
        Position =&gt; 0.0,
        UnderReadingAmountOdo =&gt; 2.0,
        OverReadingAmountOdo =&gt; 1.0
    },
    NID =&gt; 1986,
    Orientation =&gt; Orientation.Nominal
}</Action><Action
 Guid="278b2665-4f56-474f-a4b7-b6cbc08f01a6"
>Kernel.TrainPosition.Position &lt;- Kernel.TrainPosition.TrainPositionStruct
{
    DirectionalPositionInformation =&gt; Kernel.TrainPosition.DirectionalTrainPositionInformationStruct
    {
        TrainFrontEndPosition =&gt; Orientation.Nominal,
        TrainOrientation =&gt; Orientation.Nominal,
        TrainRunningDirection =&gt; Orientation.Nominal
    },
    DataState =&gt; DataState.Valid
}</Action><Action
 Guid="b179176e-e37d-4e0e-9d73-12f61aeb9d8c"
>Odometry.NominalDistance &lt;- TrainPosition</Action><Action
 Guid="98e08c63-83b7-41b2-ab3c-cd186f5db212"
>Odometry.Accuracy &lt;- Odometry.OdometerAccuracy
{
    D_ura =&gt; 0.0,
    D_ora =&gt; 0.0,
    V_ora =&gt; 0.0,
    V_ura =&gt; 0.0
}</Action><Action
 Guid="35f34f07-d5ae-493e-8f02-ef3b67c0d497"
>Kernel.TrainPosition.Position.DirectionalPositionInformation.TrainOrientation &lt;- Orientation.Nominal</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Train data"
 Guid="5e656b5e-7ed2-486d-996f-eaadfee75e20"
>
<Comment>Initialization of the train data.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Train data"
 Guid="d7b78f5d-ebe0-4cdc-a1b7-859024629a52"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="9df8c9b3-bd08-4a3b-a4cb-9e123bb2c01a"
>Kernel.TrainData.Initialize()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Level and Mode"
 Guid="23241729-77da-4af7-95bc-a581e75caa00"
>
<Comment>Set NP mode and level 0.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level and Mode"
 Guid="2832e592-a77a-420d-b930-d88d251d8e13"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="087defa8-343b-4b96-8b73-b683fccec68c"
>Kernel.Mode &lt;- Mode.NP</Action><Action
 Guid="d06920a7-6f22-4431-934e-43981011947e"
>Kernel.Level.Value.Value &lt;- Level.L0</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Speed and distance monitoring"
 Guid="6392bf44-c658-446b-91a9-ba9b25a136e9"
>
<Comment>Initialization of the data needed for computation of braking curves.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Speed and distance monitoring"
 Guid="3620e326-821d-4c09-bf9c-a8ffb2146b71"
>
<PreConditions>
</PreConditions>
<Actions>
</Actions>
<SubRules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="National values"
 Guid="4d1d13f7-1f0f-4137-bca5-e73b0d016644"
>
<Comment>Initialization of the national values for computation of deceleration curves.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="National values"
 Guid="90f809a4-ad63-443e-89dc-4d1a34ca7eed"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f4ebe780-f667-464d-a49f-061edbb13d79"
>Kernel.NationalValues.Initialize()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Fixed values"
 Guid="b384ca9b-7a57-409f-80f7-c928b7bf38ce"
>
<Comment>Initialization of fixed values for computation of the braking curves.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Fixed values"
 Guid="b3f1dfe0-1bd8-47b2-836a-5de04db07ca6"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="54fb3108-01eb-4c24-85be-eb7066379de5"
>InitializeFixedValues()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TimeIntervals"
 Guid="3f2d9ede-5b5f-4755-aece-27db2d03c2dd"
>
<Comment>Initialization of the time intervals.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="TimeIntervals"
 Guid="0a1591cd-e887-4a26-b1b4-4e9f0c6e76e3"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="0361adbf-b6aa-4058-87ae-8ada5224f5e6"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.InitializeTimeIntervals()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="ReleaseSpeed"
 Guid="fe586122-e5ef-4a7c-9a94-d6a4b2d512eb"
>
<Comment>Initialization of the release speed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="ReleaseSpeed"
 Guid="7effa754-2fad-4bf6-a6af-a52ef46f9ee8"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="0c072176-e823-4329-a6f7-99664157752b"
>Kernel.SpeedAndDistanceMonitoring.ReleaseSpeedMonitoring.UpdateReleaseSpeed()</Action></Actions>
</RuleCondition></Conditions>
</Rule></SubRules>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Current time"
 Guid="e4e31af2-df86-4cb9-a9ff-56610527c5fd"
>
<Comment>Set the CurrentTime to 0.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Current time"
 Guid="829af87a-cae0-4ae8-add5-a7aabaa30622"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="d23792e6-e5e1-4eb5-90ea-66a30f0be03d"
>Kernel.DateAndTime.CurrentTime &lt;- 0.0</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Euroradio"
 Guid="ae16712e-1456-4e46-aee5-dee11cbe20a3"
>
<Comment>TODO</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Euroradio"
 Guid="65d47938-0471-4616-831d-740c047ed457"
>
<PreConditions>
</PreConditions>
<Actions>
</Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Train integrity"
 Guid="4f1244da-71cc-4d18-8bcf-52621d1eff4b"
>
<Comment>Set the train integrity to confirmed.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Train integrity"
 Guid="eb65a0f7-3e57-4ca8-aaa3-778605f6b193"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f4b53bdc-821b-40c5-9833-b1d9bf484700"
>TIU.TrainIntegrity.Status &lt;- Messages.Q_LENGTH.Train_integrity_confirmed_by_driver</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="47ba31e2-ec3f-4faf-92d8-aea5dca9da87"
>
<Comment>Sets power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="5bf5a5f8-183f-49cd-98f0-267e30b9664d"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="e2e35dfb-2542-4a77-afc3-0648bf2da90b"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="20"
 Y="80"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="InitializeElementsForMA"
 Guid="308f7a88-e9cd-4e48-bbc1-66b9b6ccc0a1"
>
<Comment>Sets default values for tests involving the Movement Authority</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Initialize SSP + Gradients"
 Guid="1e2c9bd5-c3d2-4d13-aada-2bd07896904a"
>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Initialize SSP + Gradients"
 Guid="d7839432-4eec-4ec7-971d-4648f059b30c"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="3615ce68-522a-4f37-9745-49d04c0543b3"
>Kernel.TrackDescription.Gradient.Gradients &lt;-
[
    Kernel.TrackDescription.Gradient.GradientStruct
    {
        Location =&gt; 0.0,
        Gradient =&gt; 0.7
    },
    Kernel.TrackDescription.Gradient.GradientStruct
    {
        Location =&gt; 4800.0,
        Gradient =&gt; 0.94
    }
]</Action><Action
 Guid="1613d496-73f3-4873-ac23-ca4bc8624aa1"
>Kernel.TrackDescription.StaticSpeedProfile.SSP &lt;-
[
    Kernel.TrackDescription.StaticSpeedProfile.StaticSpeedRestrictionStruct
    {
        Location =&gt; 0.0,
        BasicSpeed =&gt; 70.0,
        TrainLengthDelay =&gt; Messages.Q_FRONT.No_train_length_delay_on_validity_end_point_of_profile_element,
        Categories =&gt;
        [
            Kernel.TrackDescription.StaticSpeedProfile.SSPCategory
            {
                CantDeficiency =&gt; Messages.NC_CDTRAIN.Cant_Deficiency_130_mm,
                OtherSpecific =&gt; Kernel.TrainData.TrainCategoryEnum.FreightTrainInG,
                Qualifier =&gt; Messages.Q_DIFF.Cant_Deficiency_specific_category ,
                Speed =&gt; 70.0
            }
        ]
    }
]</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetFSMode"
 Guid="5544ad42-1088-4018-a928-96fe3bddc890"
>
<Comment>Procedure that sets the mode to FS and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set FS mode"
 Guid="371c612d-f47d-4ada-8516-5497c6e7b793"
>
<Comment>Set the mode to FS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set FS mode"
 Guid="6eb404d9-c163-43d0-8582-8c12e44b7d70"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="86929d9e-0c8c-4cea-9ddb-fcbac74fa271"
>Kernel.Mode &lt;- Mode.FS</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="1fb5fcb7-4432-4efe-9fdc-396ff358a4f2"
>
<Comment>Set the level if the current level would cause a mode change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="87a769a4-72eb-4416-b715-1d586fc6dd77"
>
<PreConditions>
<PreCondition
 Guid="5f9fa1b8-46b2-4648-8e29-eeccf792e51a"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="8fcea4c8-c27d-4f60-9427-0db970b3911b"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set gradient and SSP"
 Guid="760f0db1-906b-4ed8-9864-d8a23f61c0ba"
>
<Comment>Set the gradient and SSP.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No gradient or SSP"
 Guid="8c6fc49c-2185-4d06-912f-26c0a2314e69"
>
<PreConditions>
<PreCondition
 Guid="5ef111cd-1c69-427b-940d-38f128fbd20c"
>Kernel.TrackDescription.Gradient.Gradients == []
  OR  
Kernel.TrackDescription.StaticSpeedProfile.SSP == []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="7de82623-f8c8-4c96-a338-2212f61232c3"
>InitializeElementsForMA()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set MA"
 Guid="213ea090-b589-46c5-b55c-e2979c5f5cd1"
>
<Comment>Set the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA"
 Guid="47994e99-a7a6-49f9-afd3-efe13aa2f324"
>
<PreConditions>
<PreCondition
 Guid="c563d454-9695-44a6-81dd-2e8d7ce8177a"
>Kernel.MA.MA == EMPTY</PreCondition></PreConditions>
<Actions>
<Action
 Guid="27b80ae3-1415-4735-9109-7188d6cf5435"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSectionStruct{
        Length =&gt; 4500.0
    }
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="f5d70e94-38cf-4f7f-a0e0-e30819faf258"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="41eae1ed-741e-488a-9e47-88eb74b74dc8"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f4d43283-1e6b-4aba-b5af-9947887e3f1b"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Mode Profile"
 Guid="c082e94c-47bf-4d95-898c-6e0749272cc6"
>
<Comment>Delete any mode profiles.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Mode Profile"
 Guid="5b82daa9-9aec-4968-aab8-d57682e5f381"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="c39eb533-d302-4b9e-937b-a28026c72ea0"
>Kernel.MA.ModeProfile.Profile &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="7f60ff5b-8ef8-4298-ac62-61a448df140e"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="00a3211a-7b8d-4b88-858d-534308bd0086"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="7695ad30-ee8a-4fa2-b789-c0b1dde8699c"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="ff94fbaa-a0f1-4b53-80d2-59506427b0b3"
>
<Comment>Switch power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="fff6b40a-b81d-4a21-9aae-bc14a08e02c0"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="26d9ed87-d969-402d-abf2-e68fc445fe1f"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="a92ca44e-b3de-4c5f-bb5d-bae23bc1ee0b"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="b3f0406a-362a-4e50-bd35-1002a6c7511a"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="69f0266a-d797-46bb-b85f-ba5cce295984"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="80"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetLSMode"
 Guid="843f9b0d-e290-43ff-b1cd-4998914a6436"
>
<Comment>Procedure that sets the mode to LS and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set LS mode"
 Guid="675162e4-02d3-472f-8960-71ab1500ee0c"
>
<Comment>Set the mode to LS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set LS mode"
 Guid="772e227e-93a3-4a31-8401-f343b2798987"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="c3f3f425-ec4d-4ee2-9646-a5dda9669323"
>Kernel.Mode &lt;- Mode.LS</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="03787445-aafb-4da2-9944-f87e05e0cf94"
>
<Comment>Set the level if the current level would cause the mode ot change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="b2f6292f-1382-4352-bcb5-b7def687e60d"
>
<PreConditions>
<PreCondition
 Guid="2460b6e7-9d68-433a-9594-fd98160bcfa3"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="446c01f7-8dd4-4df3-99a4-e2df71f6a00a"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set gradient and SSP"
 Guid="59cbd8bb-f239-4b67-a591-ee1b1db25aed"
>
<Comment>Set the SSP and gradient.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No gradient or SSP"
 Guid="96a8b6a3-d53f-49a4-b842-a77c4b5fa6e6"
>
<PreConditions>
<PreCondition
 Guid="6393f002-643e-4185-9aa3-164b269097d9"
>Kernel.TrackDescription.Gradient.Gradients == []
  OR  
Kernel.TrackDescription.StaticSpeedProfile.SSP == []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="79df0afc-6e6d-4c17-bdfc-57f58b7cbfe0"
>InitializeElementsForMA()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set MA"
 Guid="46054fd8-dd97-4c90-b6c3-94f63075e04e"
>
<Comment>Set the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA"
 Guid="6167554b-b2df-49e7-bd5b-a41b69724d68"
>
<PreConditions>
<PreCondition
 Guid="fa520447-9f40-4fdd-b7f8-942b00d3b71b"
>Kernel.MA.MA == EMPTY</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3e84671b-e591-401f-acc8-a48b81913343"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSectionStruct{
        Length =&gt; 4500.0
    }
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="39eac867-dcd3-461d-b36d-f9530c651f4f"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="ddbc25a5-159f-42c3-8c65-752e8141e45c"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="b9b32fc6-ac98-43ce-a949-d02eb7fc3e2c"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set LS mode profile"
 Guid="9bf9f375-c3a0-4994-a177-fa1629b59ffb"
>
<Comment>Set a LS mode profile applicable at the train&apos;s position.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set LS mode profile"
 Guid="bee4a01e-c52b-4272-9c2c-46d136690011"
>
<PreConditions>
<PreCondition
 Guid="96cae18b-d8a6-4658-9bbb-4d7200549257"
>NOT THERE_IS modeProfile IN Kernel.MA.ModeProfile.Profile | modeProfile.Mode == Mode.ModeProfile.LS AND Kernel.MA.ModeProfile.DistanceIsWithinAModeProfile(modeProfile)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="d4b4461f-f590-4be9-abca-0fe04cbc2a24"
>Kernel.MA.ModeProfile.Profile &lt;- 
[
Kernel.MA.ModeProfile.ModeProfileStruct{
    Location =&gt; 0.0,
    Mode =&gt; Mode.ModeProfile.LS,
    Speed =&gt; BaseTypes.Speed.UseNV,
    Length =&gt; 4500.0,
    AcknLength =&gt; 0.0,
    SupervisionQualifier =&gt; Messages.Q_MAMODE.as_the_EOA__keeping_the_SvL_given_by_the_MA
}
]</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="b98f0cbb-866c-4549-adb2-e319f27ea4be"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="243836cd-fd76-4d0e-9843-da3032c725b2"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="e8a5b9da-53b7-4835-a062-2c86024dd6b3"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="e9ff175d-ee3d-4c12-b290-86dd7139ca1b"
>
<Comment>Switch the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="290770fb-d79b-428e-a960-1a3eabfaa4c3"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="7b730924-1fb8-43c6-bbca-81df50b5ff6e"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="b0fd5b1f-8599-43b3-8a95-9d29c938ca7b"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="4d9fcf63-299b-47e5-a182-76e38743a6c2"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="bec6a6bc-9eba-456f-a2d4-e4f4b3df289a"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="290"
 Y="140"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSRMode"
 Guid="85e02aac-468a-4ad5-a199-7ed7a4201f73"
>
<Comment>Procedure that sets the mode to SR and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SR mode"
 Guid="df9b0350-3626-4781-8c03-3b3457920b1f"
>
<Comment>Set the mode to SR.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set SR mode"
 Guid="e1ad8f4a-82ab-4a90-bfb7-efc319198d1b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="b501904c-c6c8-45fa-9042-2f1415bd8ba1"
>Kernel.Mode &lt;- Mode.SR</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="1e67dc91-cbf0-4e7b-8a09-d2957471e2fe"
>
<Comment>Set hte level if the current level would cause the mode to change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="d1472685-a3ed-412d-bd76-2f35b2125972"
>
<PreConditions>
<PreCondition
 Guid="87975c30-4872-4018-a95a-1e815b12b6c4"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="da425322-69a6-4027-8ca8-31a3e9c3feaf"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Delete the MA"
 Guid="258f00dd-ebc4-47c8-b82f-4df206ef6e06"
>
<Comment>Delete the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Delete the MA"
 Guid="2df7e86c-3162-4bbc-b91e-f83e97b1794d"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="ddc4c703-c2bc-47f1-a8fa-5ff2684cec24"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Empty the mode profile"
 Guid="0b688d7f-db41-48cc-8f9d-725a46a5689b"
>
<Comment>Delete the mode profile.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Empty the mode profile"
 Guid="bcbe415d-cad2-4143-a3e1-8e3435e6809a"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="4f962ed9-3d1a-41d2-95a4-8b038aae6445"
>Kernel.MA.ModeProfile.Profile &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="978d18ac-efee-4677-816c-809d1e3350ed"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="c825538b-009d-4def-9d6b-8f6305916d33"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="27aea12f-886c-4047-8246-fe7e03f8fa21"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set the SR information"
 Guid="0abde4d6-83e1-40e6-8836-e66a2df5f0cb"
>
<Comment>Set the SR authorisation information (distance to run in SR and list of expected balises in SR mode).</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set the SR information"
 Guid="c0eb75d7-e692-4313-8df8-bc3d0f2ab670"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="01e42c58-bc2e-46cb-ac4b-78155e509058"
>Kernel.StaffResponsible.SRAuthorisation &lt;- Kernel.StaffResponsible.SRStruct{
    BGs =&gt; [],
    BGListReceived =&gt; False,
    Location =&gt; 600.0
}</Action><Action
 Guid="4597d7e8-771e-4f88-a32a-b7ac0cc7a208"
>Kernel.TrainPosition.SRStartDistance &lt;- Odometry.NominalDistance</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="51129b99-3d9b-462f-9af4-0d13a498cddd"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="5f161253-8fc9-4efd-a8aa-51086df6e488"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="394abec1-1461-4aed-8467-944b7cecbf4d"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="1d9928c1-0e2e-4b96-8351-8d0a947242dd"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="6d177c1a-ed55-433e-963f-2930cb50bf24"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="3c2209c1-ede5-4f71-840d-873765305ad4"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="bcb6620d-6c56-4760-9225-2198cde2bb3a"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="c8525df8-102f-4f30-95f6-336032c77fbe"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="c8d7a9f7-f34e-4a3e-ba6f-b3f132afd2db"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="290"
 Y="80"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetOSMode"
 Guid="70057ba0-9886-4073-9e8d-8543bb873665"
>
<Comment>Procedure that sets the mode to OS and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set OS mode"
 Guid="399d52b3-5029-4a01-b432-7f71f0b3030f"
>
<Comment>Set the mode to OS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set OS mode"
 Guid="4c754b26-623c-479a-9949-eb0a77eae594"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="04ec064e-082f-4ebb-8ef3-d325b13b36ac"
>Kernel.Mode &lt;- Mode.OS</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="4805dbc8-42ee-422f-95bb-27ca928b9ac0"
>
<Comment>Set the level if the current level would cause the mode to change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="518d706c-d6ed-4793-9221-c8354b500300"
>
<PreConditions>
<PreCondition
 Guid="8bc69586-f270-4153-8797-9a68eb9ae4f4"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="878f7216-f2de-4656-864d-450091487cfd"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set gradient and SSP"
 Guid="9b0b7b26-3dae-4240-833e-32520ada053d"
>
<Comment>Set the SSP and Gradient.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No gradient or SSP"
 Guid="38019a22-8337-4071-9196-8e0a9072a8df"
>
<PreConditions>
<PreCondition
 Guid="3c66a98e-75b2-4e89-87ce-3b90b2a8e9d2"
>Kernel.TrackDescription.Gradient.Gradients == []
  OR  
Kernel.TrackDescription.StaticSpeedProfile.SSP == []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9abe323c-463d-4d1c-a111-0bd7ec21071b"
>InitializeElementsForMA()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set MA"
 Guid="07869aeb-5b0c-48e5-a0be-0534c2e86f6f"
>
<Comment>Set the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA"
 Guid="04f5cc49-902b-4b52-9192-510661156271"
>
<PreConditions>
<PreCondition
 Guid="97d81a49-1f86-4878-8db2-a6981e8993f0"
>Kernel.MA.MA == EMPTY</PreCondition></PreConditions>
<Actions>
<Action
 Guid="970b24d5-0e0c-4afa-a1fc-cd764e3a8107"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSectionStruct{
        Length =&gt; 4500.0
    }
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="a541f900-ad59-4dcd-9f65-8c1b4d53524c"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="9e0ceecc-0225-4be3-81ba-95d41cbe94b9"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="592f8c50-b817-4ec3-b4b8-745a2b3e6d94"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set OS mode profile"
 Guid="ab2d4931-04d0-44d3-9937-b60a16c8e81e"
>
<Comment>Set a OS mode profile applicable at the train&apos;s current position.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set LS mode profile"
 Guid="1dc3e362-4992-4fc9-bf45-eb0fa59f1182"
>
<PreConditions>
<PreCondition
 Guid="91df0e7e-4671-4d12-a652-78a421a92c46"
>NOT THERE_IS modeProfile IN Kernel.MA.ModeProfile.Profile | modeProfile.Mode == Mode.ModeProfile.OS AND Kernel.MA.ModeProfile.DistanceIsWithinAModeProfile(modeProfile)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="566f5349-a4a2-4967-bd62-56451428e117"
>Kernel.MA.ModeProfile.Profile &lt;- 
[
Kernel.MA.ModeProfile.ModeProfileStruct{
    Location =&gt; 0.0,
    Mode =&gt; Mode.ModeProfile.OS,
    Speed =&gt; BaseTypes.Speed.UseNV,
    Length =&gt; 4500.0,
    AcknLength =&gt; 0.0,
    SupervisionQualifier =&gt; Messages.Q_MAMODE.as_the_EOA__keeping_the_SvL_given_by_the_MA
}
]</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="911576d2-a077-4293-8388-1fdb9e926704"
>
<Comment>Turn off the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="b55e5f4b-df91-4164-a41e-13aa3176d5e4"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="1b5317d8-e17a-433b-89a9-e5b6c9dcf199"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="af372fb1-c24c-4954-bf92-1c48ca0d0470"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="4ff617cd-192f-4a71-981f-0fc185916e10"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="2a9e769d-9513-4509-8ede-bc6c2a610d17"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="c5f49cef-1b70-40e5-9482-3dff74b03600"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="0eca2891-288a-4b49-aa07-9a5f49404637"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="781c4dbd-bfd7-41fd-bde5-0f680379eee7"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="180"
 Y="80"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSHMode"
 Guid="4f5882fb-240f-446c-ac93-87449b4d3c5b"
>
<Comment>Procedure that sets the mode to SH and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SH mode"
 Guid="5c386fbf-08f4-40ae-a0d0-e31328127161"
>
<Comment>Set the mode to SH.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set SH mode"
 Guid="f80df71d-b420-4a84-992e-cea4a288f8f0"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="a21fb837-38d3-4cff-bb4f-1ab8fb17fe0c"
>Kernel.Mode &lt;- Mode.SH</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="162e4874-bde5-4fae-94e3-1135f35eb5bc"
>
<Comment>Set the level if the current level would cause the mode to change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="dd08f45a-c259-4510-99e0-13a0ab68ed9d"
>
<PreConditions>
<PreCondition
 Guid="d46fb86d-46d4-40d2-8ad1-b2cc9c63bb71"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="43230c0f-05d2-4aaf-9515-863807313f64"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set gradient and SSP"
 Guid="58b50cbe-c63b-4b03-9aa5-ed235ad94882"
>
<Comment>Set the SSP and gradient.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No gradient or SSP"
 Guid="ebf944db-3d31-4024-8a84-ccc2400bdea3"
>
<PreConditions>
<PreCondition
 Guid="f0bc5d08-acf9-4f97-9dc6-143eef29519f"
>Kernel.TrackDescription.Gradient.Gradients == []
  OR  
Kernel.TrackDescription.StaticSpeedProfile.SSP == []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="17495370-721d-4147-a9d5-86e77aca98c3"
>InitializeElementsForMA()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set MA"
 Guid="3c375211-2894-46b7-ac68-a3019c399954"
>
<Comment>Set the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA"
 Guid="099b959c-bace-4096-9d09-93d7344a6cdc"
>
<PreConditions>
<PreCondition
 Guid="c3932656-a311-48f6-8b25-2a72d0356aa8"
>Kernel.MA.MA == EMPTY</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3ec3b8ad-a6c8-4cae-abbf-200584f3de10"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSectionStruct{
        Length =&gt; 4500.0
    }
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="32b1dc25-1ebf-4ade-a173-244d69b001e2"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="05b6f3d2-7baa-497e-b7df-ff8e74a36910"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="608e9537-e900-4646-aa3a-f57e2719f064"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SH mode profile"
 Guid="355c7b3f-c821-45a0-bd67-f15551c7beed"
>
<Comment>Set a SH mode profile applicable at the train&apos;s current location.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set LS mode profile"
 Guid="329a488a-5014-4b7c-a965-a9782003c9f4"
>
<PreConditions>
<PreCondition
 Guid="91d89649-6d39-47dc-bce5-2baf049e6630"
>NOT THERE_IS modeProfile IN Kernel.MA.ModeProfile.Profile | modeProfile.Mode == Mode.ModeProfile.SH AND Kernel.MA.ModeProfile.DistanceIsWithinAModeProfile(modeProfile)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="5460d2df-2aba-44d4-be04-514bbcd16bca"
>Kernel.MA.ModeProfile.Profile &lt;- 
[
Kernel.MA.ModeProfile.ModeProfileStruct{
    Location =&gt; 0.0,
    Mode =&gt; Mode.ModeProfile.SH,
    Speed =&gt; BaseTypes.Speed.UseNV,
    Length =&gt; 4500.0,
    AcknLength =&gt; 0.0,
    SupervisionQualifier =&gt; Messages.Q_MAMODE.as_the_EOA__keeping_the_SvL_given_by_the_MA
}
]</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="5bd78158-18a1-4e1a-a6ca-ed611dffac34"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="4a79009d-e2c9-4ce2-b42f-03824ea1b97e"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="7171b080-3c92-4249-96c9-f919cccd0443"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="42733203-65f3-4791-b79c-64d55462ee25"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="74d94239-16dc-4bdb-993c-3fb8a52ce094"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5933167f-fd17-4544-aba7-f007af0b1239"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="ff742c72-d609-490e-bbc3-7ee8b5d5802c"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="4ba849d4-9fa0-4e33-a324-ce75f2ba3a30"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="2f5c980c-1fa7-4108-bbd2-5a5244f1bc4a"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="200"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetUNMode"
 Guid="3e31a580-3b8b-4c84-aa91-29fa5aae9eb8"
>
<Comment>Procedure that sets the mode to NL and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set UN mode"
 Guid="ae69ef75-6d35-4ed7-aff7-527729ae842f"
>
<Comment>Set the mode to UN.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set UN mode"
 Guid="c0a1b8e5-a3e5-49f8-9cc2-a6c7ca3287ea"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="18f95083-f48c-4e85-acaa-8561f304c4e1"
>Kernel.Mode &lt;- Mode.UN</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="202a290e-08a2-46fd-b01c-42d5f53849b9"
>
<Comment>Set the level to 0 if it is not already 0.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is not 0"
 Guid="8adb7a46-8ec1-4ff5-9409-aeeda9770c64"
>
<PreConditions>
<PreCondition
 Guid="c0065bb4-75ca-414c-be4f-0c9fa527bd1c"
>Kernel.Level.Value.Value != Level.L0</PreCondition></PreConditions>
<Actions>
<Action
 Guid="769b79ad-da69-49bd-8eb7-41deb2ac1ead"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L0
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="34348e74-eb9f-4ba1-938f-738f58659dd2"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="81d73654-508b-4b2b-9eac-810947a28254"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="b189c4e8-03eb-4809-b9b3-e633a9cc13b1"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="7fa11f0c-9db3-4573-8a2c-2d36e0c1707d"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="f7608d81-b3e6-4563-a661-96edd7ea4aab"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5ea7b0e9-2e50-4404-8309-787d3c461d7b"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="dd5c7941-ae17-4045-8f10-8a37bd0ef6ce"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="089d03f9-7f00-4e93-b401-946905c2804a"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="a5f388b0-60d4-4d99-8cd9-f26b3a197afa"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="6a4a038c-7de6-4448-a240-b07aaed7a293"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="107b6bb0-2b5e-495d-a7e3-5009ade4f50b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="b8f56ab2-7f07-48c4-afa6-92fd31415887"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="180"
 Y="140"
 Width="100"
 Height="50"
 Pinned="TRUE"
 NeedsRequirement="FALSE"
 Name="SetPSMode"
 Guid="20096fc8-2c56-4bc7-8980-50314f71913e"
>
<Comment>Procedure that sets the mode to PS and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set PS mode"
 Guid="26b32a67-025c-4081-bfb6-a08c9001ec5b"
>
<Comment>Set the mode to PS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set PS mode"
 Guid="fd27325e-8877-4158-ad8c-8a71263d4df5"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="821bbb10-7c7b-4e31-99c4-7c284a5664dd"
>Kernel.Mode &lt;- Mode.PS</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="e496112f-21a3-43f3-a10a-4289280feacf"
>
<Comment>Set the level if the current level would cause the mode to change.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="2ba25b9e-5916-40a7-a01b-b7cc8aaf1506"
>
<PreConditions>
<PreCondition
 Guid="8b9ed795-c110-472e-8610-d362c6031a71"
>Kernel.Level.Value.Value in [Level.L0, Level.LNTC]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="94685606-5d4a-4db4-8b38-3d5e64bd1781"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; NID_NTC.NOT_APPLICABLE,
        Value =&gt; Level.L1
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set gradient and SSP"
 Guid="64b3778e-70fe-4c1e-94e2-14ff3ece3c43"
>
<Comment>Set the SSP and gradient.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No gradient or SSP"
 Guid="c3c16254-9b2e-4862-8859-03773f80e532"
>
<PreConditions>
<PreCondition
 Guid="f50cda01-e887-48ca-b016-f7dadb4e9721"
>Kernel.TrackDescription.Gradient.Gradients == []
  OR  
Kernel.TrackDescription.StaticSpeedProfile.SSP == []</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3df39165-b3c8-4bb9-ad4e-94755d34f101"
>InitializeElementsForMA()</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set MA"
 Guid="82190a90-ab2d-428a-94f6-719bb846db42"
>
<Comment>Set the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA"
 Guid="bb43f150-48c1-4a19-b018-5d1bffc0f950"
>
<PreConditions>
<PreCondition
 Guid="bf1fb960-c629-4591-8dad-b165c3f149b7"
>Kernel.MA.MA == EMPTY</PreCondition></PreConditions>
<Actions>
<Action
 Guid="9eb67a45-67bd-4d13-9d03-7f292498db33"
>Kernel.MA.MA &lt;- Kernel.MA.MAStruct{
    TargetSpeed =&gt; 0.0,
    Sections =&gt; [],
    EndSection =&gt; Kernel.MA.EndSectionStruct{
        Length =&gt; 4500.0
    }
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab closed"
 Guid="c8b91a12-3ab4-4db2-acd9-d019217618f8"
>
<Comment>Close the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab closed"
 Guid="6d5650db-ee4b-42d7-99b8-e044e98f78fe"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="020576d4-680a-4012-a1f4-5b95d0814125"
>TIU.CabA.Desk1IsActive &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SH mode profile"
 Guid="93ae8f45-caa0-4bd0-8647-a0cf64bd8032"
>
<Comment>Set a SH moe profile applicable at the train&apos;s current position.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set LS mode profile"
 Guid="11b056d9-7a85-4d0b-b819-e144c28a0c14"
>
<PreConditions>
<PreCondition
 Guid="79630179-277a-4503-91bc-e82516a10081"
>NOT THERE_IS modeProfile IN Kernel.MA.ModeProfile.Profile | modeProfile.Mode == Mode.ModeProfile.SH AND Kernel.MA.ModeProfile.DistanceIsWithinAModeProfile(modeProfile)</PreCondition></PreConditions>
<Actions>
<Action
 Guid="892675a1-53dc-490e-a920-247ba98ed066"
>Kernel.MA.ModeProfile.Profile &lt;- 
[
Kernel.MA.ModeProfile.ModeProfileStruct{
    Location =&gt; 0.0,
    Mode =&gt; Mode.ModeProfile.SH,
    Speed =&gt; BaseTypes.Speed.UseNV,
    Length =&gt; 4500.0,
    AcknLength =&gt; 0.0,
    SupervisionQualifier =&gt; Messages.Q_MAMODE.as_the_EOA__keeping_the_SvL_given_by_the_MA
}
]</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="fa9d1063-8f91-4bb5-89ee-00e92a9572f2"
>
<Comment>Turn off the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="e2493bdc-1416-4863-95de-188d3a1ac676"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5f2f16cc-0c5b-4921-b17a-f51a6fa94e67"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="87a6596c-b45f-4e7e-894f-8db194ea8f23"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="0f4c08a0-e198-4026-90d0-86bea28a84f3"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="cccd84ed-f16a-4d16-b1a5-8213f1dab690"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="af2374d7-4e5a-426f-aa30-da43169ce32f"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="216d3389-f88b-4ede-85f5-aca4858cb6d4"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="b5d40646-e86b-4f18-bf4e-9a9b101b77e5"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="140"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSLMode"
 Guid="79fba746-5fc7-477b-b035-7e5199808c03"
>
<Comment>Procedure that sets the mode to SL and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SL mode"
 Guid="1872a9af-8438-43f2-a21b-9ddafaea9249"
>
<Comment>Set the mode to SL.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set SL mode"
 Guid="667855d4-d026-4f6e-b696-cfdd8e3d5985"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="260f15c2-dac7-42f8-9560-55ef35c9580a"
>Kernel.Mode &lt;- Mode.SL</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Desks are closed"
 Guid="e671acc3-f350-4857-b550-9826f18f1dbc"
>
<Comment>Close the desks.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Desks are closed"
 Guid="a40c0f6d-b11e-40a6-b363-8cf78f9c04e7"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="dadf3201-fb98-4e92-95f1-1cceee88d894"
>DMI.CabOfDMI(DMI.MasterDMI()).Desk1IsActive &lt;- False</Action><Action
 Guid="81214136-398b-4598-861d-5e987523d8d1"
>DMI.CabOfDMI(DMI.MasterDMI()).Desk2IsActive &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Sleeping input is received"
 Guid="eb39ee34-cd41-4960-9d99-1468957a648b"
>
<Comment>Send a sleeping intput.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Sleeping input received"
 Guid="69c2eadf-032c-4adc-a9d7-56502a5f0a51"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="60a529ba-2faa-468e-8047-d80d5859838d"
>TIU.SleepingRequested &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="24a938e6-99ef-4b90-b838-53cd43acaff6"
>
<Comment>Turn on the power.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="9258583b-73ae-4a5b-ae4c-925fe2dde33b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="059906af-4c81-4f68-a327-3c64fae78c71"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="225ba83a-6a1a-4b4f-9c9d-d34a9232c3e1"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="b83fec0d-7a65-4444-aae8-42062a5ea638"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="2dbc2496-b52a-44a8-8748-0abd3a6e44e3"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="290"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSBMode"
 Guid="d58d68ec-85fa-47da-ae6a-d78365fffc5e"
>
<Comment>Procedure that sets the mode to SB and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SB mode"
 Guid="ce2e06f3-cc23-4810-9065-13bcaf90717a"
>
<Comment>Set the mode to SB.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set mode"
 Guid="49adfced-6e3e-4410-bfb6-8352833f0a20"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="e5a6f115-262c-493b-84c3-e72f2f98c850"
>Kernel.Mode &lt;- Mode.SB</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No MA on-board"
 Guid="95e1ac18-0768-43df-9446-42ee00741fe1"
>
<Comment>Remove the MA.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No MA on-board"
 Guid="89c68c60-f085-47ae-9bca-378da10c1b8d"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="30e93051-c20f-43b3-b3a8-1ec8f5e2de9a"
>Kernel.MA.MA &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="fd80a8aa-e6c4-463f-9134-b36050cfa408"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="a60aecc2-317a-40b2-b9f3-bb1563e93e70"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="eb3c34bd-e182-4c6e-8601-5a699d77e5e0"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="5f1353f6-fc3a-4254-aa7f-02c8627d8ee5"
>
<Comment>Trun the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="cdc09dbe-0f2d-440d-bb87-01a2396b2d7b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="bb1e4ced-352e-4eef-a7be-4db1757c6a7d"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="f20892cc-53e2-416e-8641-0cd0ea25fab7"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="744fd965-ef06-4271-b384-6f09ebb930b2"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="4ac11c8c-7f56-46b4-8fd2-605d7a1fb520"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="180"
 Y="200"
 Width="100"
 Height="50"
 Pinned="TRUE"
 NeedsRequirement="FALSE"
 Name="SetTRMode"
 Guid="98d8396e-19e3-4ac3-a5cf-b48101b2f20e"
>
<Comment>Procedure that sets the mode to TR and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set TR mode"
 Guid="235393ed-74c7-401c-8ddc-a131a88c708c"
>
<Comment>Set the mode to TR.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set TR mode"
 Guid="865380de-796b-4ecd-9dc5-ed0148e59663"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="8219f63f-9d53-44c0-b1e2-a11a85aad0be"
>Kernel.Mode &lt;- Mode.TR</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="d5d3c088-8f74-4935-9c9b-b3815e067f29"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="620baa3f-ed95-475e-b23a-db98db78031c"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="69ea5596-b0be-4d1f-b5f2-459ba4f73df1"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="f7fd8c48-28f7-4c52-b221-49d0eb8eade8"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="3e46ff5a-caae-414f-a735-0173a3f4f8ad"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f6b5ec3a-8649-4b95-9ae3-83fe9a98ff18"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="c3807a22-425b-4b05-80d6-14efd3525a9b"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="681c9687-5720-4efa-bda3-810a02ee8b6e"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="705b88ad-c034-4666-a97e-148f982239d7"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="180"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetPTMode"
 Guid="4481c338-729d-455c-a965-dc029343633d"
>
<Comment>Procedure that sets the mode to PT and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set PT mode"
 Guid="e16e88bd-0425-436f-9fa1-ee508a0dff8b"
>
<Comment>Set the mode to PT.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set PT mode"
 Guid="eb97e01d-b3f6-4270-b527-717aaafcfc5b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="1c08d3a6-3706-4b2f-888c-828ea9a1eeab"
>Kernel.Mode &lt;- Mode.PT</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="5d97032f-c2d5-4884-bbac-a22fc3b508ac"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="9f60b841-6133-463a-9c1d-d1961863e2ab"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="945df486-63dc-4ac9-905f-3a7503bccc57"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="d73274be-f0be-42c1-b96f-ce7c746c9c7e"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="2f050ac4-b392-4133-a11e-b140a2588f3c"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="fe016112-9e6f-4735-8cfb-2b3ebd3bd222"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="ff9bd6b2-bfb3-40ca-ab78-8c93d842b1fc"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="cf701ce4-c2a9-435b-81e7-9da02ce72a8d"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="a72d831d-eced-42a2-915a-e5b728712e15"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSFMode"
 Guid="d6c892e7-f049-4524-aeee-cf8201d9e93e"
>
<Comment>Procedure that sets the mode to SF and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SF mode"
 Guid="167fb6e8-2951-4a7b-a111-cfedb2ada1e6"
>
<Comment>Set the mode to SF.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set SF mode"
 Guid="9d06cd04-5cbe-40a8-a7ed-3a418bbede26"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f985d005-afc5-4b21-8c10-33f5fefa510b"
>Kernel.Mode &lt;- Mode.SF</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="a5885d7a-32a7-4bf3-ac1a-ccd39312c113"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="99e37edb-b81f-4b0f-82ae-ae63a700cb80"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="fe87c0a9-9f24-456a-8a46-28a62d96530e"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="ef31f9ce-73dd-442a-97a6-87dd712ba0b4"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="e97920ad-2e66-4e0d-bd9c-2d60930c8b30"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="a24e14c7-55f9-4a79-9239-b8330b42de77"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetISMode"
 Guid="c4acf7e9-b54d-4df3-834a-a69a9f06488e"
>
<Comment>Procedure that sets the mode to IS and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set IS mode"
 Guid="3a0f7682-7b7c-43f4-bdff-b307ea64e20a"
>
<Comment>Set the mode to IS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set IS mode"
 Guid="bad3aa92-6e11-431d-b384-8ae9092bbe8e"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="62865b39-ba0a-4ffa-94cc-34a168fc4402"
>Kernel.Mode &lt;- Mode.IS</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="bac641ac-680d-43f9-8563-560d6661ac5b"
>
<Comment>Switch the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="88f90654-0d8c-400d-946d-f11c93dc4691"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="e735051b-ee94-4cc0-8e21-936e3e8b71c1"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS isolated"
 Guid="897539cc-5dce-4f84-a0f1-a2073dea179d"
>
<Comment>Isolate the ETCS.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS isolated"
 Guid="d98aafae-4b44-4ac2-aacf-66c136819b5b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="0466c547-0b1c-45de-9636-560da9bbea04"
>TIU.ETCSIsolated &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetSNMode"
 Guid="9abbd0bc-2bf7-4a38-bcd2-f4d4372a8e57"
>
<Comment>Procedure that sets the mode to SN and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set SN mode"
 Guid="6eb7c5d0-93df-4d59-b400-1ca504d4f711"
>
<Comment>Set the mode to SN.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set SN mode"
 Guid="c10a6746-105c-4e0a-94b3-0b6db6d91c05"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="9d34974f-3bb4-4617-a3a5-ef6e992b6167"
>Kernel.Mode &lt;- Mode.SN</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set level (if required)"
 Guid="1d5c5cde-d8bb-405f-bc7c-f71987d02335"
>
<Comment>Set the level to NTC, if it is not currently NTC.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Level is 0 or NTC"
 Guid="3424be75-bae6-4e5a-82f2-e3bf115853ad"
>
<PreConditions>
<PreCondition
 Guid="ee9c5df6-2bb6-42e1-8309-b07b6b288de6"
>Kernel.Level.Value.Value != Level.LNTC</PreCondition></PreConditions>
<Actions>
<Action
 Guid="ceee01fd-03ce-46ee-8d88-9cfe43ee6cc1"
>Kernel.SetLevel(LevelDataStruct{
        NTC =&gt; 1,
        Value =&gt; Level.LNTC
    }
)</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="5e182b93-5345-4012-90e9-0890afeb5618"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="2378736c-a36f-45c8-bb18-4e4dbee9df89"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="19944189-3681-47d9-b64e-9edce792d719"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="d9283aec-be3d-4647-8c99-fd4b03bcb572"
>
<Comment>Remove the sleeping signal.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="No Sleeping signal"
 Guid="f5f4c376-c930-46e0-95b1-ba628e5e75b1"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f970e7e5-b23e-43ff-b422-f863da275e38"
>TIU.SleepingRequested &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="746034e4-f341-4725-bc4d-6b6c912490a8"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="7e3435de-4f53-481b-8ba5-fed76b3ff651"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="6d70c115-f92b-440f-92b2-79c4b552cae9"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="c8de433f-cfa0-412d-be5a-e3069f698010"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="f8e80048-9c47-47c9-a3c6-b6fb46fbf7b5"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="1884d7dc-d84b-44c5-9dfa-97b571e9a339"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetNPMode"
 Guid="4ddcaaab-20ca-4199-9a5f-07a1ca5d7e3b"
>
<Comment>Procedure that sets the mode to NP and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set NP mode"
 Guid="e7e28a4e-3b6a-4add-9a8c-2e90c2e223b3"
>
<Comment>Set the mode to NP.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set NP mode"
 Guid="4f58283d-433b-48a0-85a0-87053ff0ba14"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="ef9fc55f-d1cf-4975-b093-fb771f8614f2"
>Kernel.Mode &lt;- Mode.NP</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power off"
 Guid="f786e85c-b3a0-44e5-9e1e-f3d9dcfb6d15"
>
<Comment>Turn the power off.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="e8942ff7-264d-4af7-8822-d1fc343319f0"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="5659c98f-6a31-4223-acc9-a2b28a50e1e1"
>Kernel.PowerOn &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="e877f8b4-15f2-4b7b-b03a-f72159d6da6b"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="13315b3d-52d0-4862-bfe2-4bfa9ec43953"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="f0fb213d-8f70-4981-a54d-3c2b7841a476"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetNLMode"
 Guid="eb11bfd5-3fb4-4a6d-8247-04a423f4b5ad"
>
<Comment>Procedure that sets the mode to NL and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set NL mode"
 Guid="09c02121-9785-48b5-afb1-9a7deef051ba"
>
<Comment>Set the mode to NL.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set NL mode"
 Guid="19fb8c13-eb91-4180-afcb-93d52f70f694"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="796568d9-37bb-419b-bde8-5367fe92cc4d"
>Kernel.Mode &lt;- Mode.NL</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="48e4e92e-3529-4f4e-9228-ea46545e2646"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="7763bee5-4fef-4302-9c3f-6fb230f1e553"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="60a90a3e-b49e-4876-a997-18f1cb68f1ec"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="88ae30fb-9747-4849-886a-76ee6042a99a"
>
<Comment>Switch the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="7ec912b2-10c3-4413-b81a-095f3e7096cd"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="4eb4c8ad-e14d-48d2-aa09-08c4c65f2921"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="5790dd9f-a506-4fa7-993b-44c6dbd42e79"
>
<Comment>Un-isolate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="041e8386-3e02-4da1-b60d-6940342fef7b"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="db8c326d-5adb-4d33-bbfa-51355cf89d08"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Non leading input"
 Guid="5423fbef-ddad-401a-bde8-67b06786ca3f"
>
<Comment>Set the non-leading input.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Non leading input"
 Guid="5221386e-dba5-43dd-b0fc-a8daefbadbc2"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="8f711aa7-7203-4de4-95f1-4c43c1a6254d"
>TIU.NonLeadingPermitted &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="400"
 Y="20"
 Width="100"
 Height="50"
 NeedsRequirement="FALSE"
 Name="SetRVMode"
 Guid="0a9100cb-5bfa-4a3f-85d9-ab268296567a"
>
<Comment>Procedure that sets the mode to RV and sets all data so maintain this mode.</Comment>
<Rules>
<Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Set RV mode"
 Guid="959d81fd-867a-4685-9808-15597a47e56b"
>
<Comment>Set the mode to RV.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Set RV mode"
 Guid="285dc887-b11e-4e77-8f13-822c95ec5214"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="6c4a7ad9-00c5-48f2-9ca2-4d0cc16a9deb"
>Kernel.Mode &lt;- Mode.RV</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="01280127-f0fe-4cab-a005-1ce07f15072b"
>
<Comment>Open the DMI cab.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="DMI cab open"
 Guid="c441e90c-ec38-43e0-ad8d-d04340745b85"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="30c16573-0a8a-4093-a480-d76056c79823"
>TIU.CabA.Desk1IsActive &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="ff560e13-5ba8-43fe-8a70-31edb838bfe1"
>
<Comment>Turn the power on.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="Power on"
 Guid="05db15ba-90d1-40a2-bcff-7d402937b6d9"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="a9ff126d-9fa5-4f08-959e-81c6ed75d7c9"
>Kernel.PowerOn &lt;- True</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Priority="Processing"
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="a8cc5ea0-768f-451c-8512-74e94138890c"
>
<Comment>Un-isomate the ETCS from the train.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 NeedsRequirement="FALSE"
 Name="ETCS not isolated"
 Guid="193f8ab5-8d3e-459a-b98b-a1ebe9326e1d"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="355c3c92-27b6-439a-a783-9b331301f219"
>TIU.ETCSIsolated &lt;- False</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure><Procedure
 X="610"
 Y="120"
 Width="100"
 Height="50"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="InitializeFixedValues"
 Guid="91326901-7ff5-4e7b-84b4-cb373482ce11"
>
<Comment>Initializes the test environment with a set of fixed values as specified in ERA_Braking_cuvers_tool_v3.0.xlsm.</Comment>
<Rules>
<Rule
 Priority="Processing"
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Initialize fixed values"
 Guid="2f342616-f08b-4f2a-ad76-0df5ca5c851f"
>
<Comment>Initializes the test environment with a set of fixed values as specified in ERA_Braking_cuvers_tool_v3.0.xlsm.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 NeedsRequirement="FALSE"
 Name="Initialize fixed values"
 Guid="f3cba488-1191-4969-8a47-cca7f31a3b48"
>
<PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="7e85e74c-9534-4ea0-b6c0-4f897f274950"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_ebi_max &lt;- 15.0</Action><Action
 Guid="0a9ce767-5ef2-4720-a120-474f637e9aa8"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_ebi_min &lt;- 7.5</Action><Action
 Guid="ecdc9d99-2b1a-4a23-aae9-0accb278f9bf"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_sbi_max &lt;- 10.0</Action><Action
 Guid="806278c7-48bf-4823-90f0-8d281f434936"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_sbi_min &lt;- 5.5</Action><Action
 Guid="58b75e15-4729-4944-9cac-d6db49b0701b"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_warning_max &lt;- 5.0</Action><Action
 Guid="e0499a82-9634-411e-ac8e-fa39db72a54d"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.dV_warning_min &lt;- 4.0</Action><Action
 Guid="cfe8e4de-c889-462f-bfb6-2792f3fe59c7"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_ebi_max &lt;- 210.0</Action><Action
 Guid="f912e407-dafd-42d1-9a7b-f98b7e9e943a"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_ebi_min &lt;- 110.0</Action><Action
 Guid="fb2743c8-e7ee-4eb8-be74-4bd33422c371"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_sbi_max &lt;- 210.0</Action><Action
 Guid="0dd5306d-48aa-4790-805f-4fbe295deb87"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_sbi_min &lt;- 110.0</Action><Action
 Guid="409e3c78-979d-431f-bb37-602cc97c66ad"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_warning_max &lt;- 140.0</Action><Action
 Guid="6f61e8bc-03b3-43c8-b319-472661e27709"
>Kernel.SpeedAndDistanceMonitoring.CeilingSpeedMonitoring.V_warning_min &lt;- 110.0</Action><Action
 Guid="08b1cd8b-424e-4190-a9cd-a6e0973c09be"
>Kernel.SpeedAndDistanceMonitoring.PreIndicationLocation.T_preindication &lt;- 7.0</Action><Action
 Guid="437480c3-c7d2-4e2b-940b-fde43f2f88a0"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.T_driver &lt;- 4.0</Action><Action
 Guid="b35cebb9-6122-4972-af90-d63324279878"
>Kernel.SpeedAndDistanceMonitoring.TargetSpeedMonitoring.T_warning &lt;- 2.0</Action><Action
 Guid="684b0de2-256d-47f1-9441-cd735eb4fe6d"
>Kernel.TrackDescription.Gradient.M_rotating_max &lt;- 15.0</Action><Action
 Guid="528a7dba-991e-4eed-ad14-de3bc5391e83"
>Kernel.TrackDescription.Gradient.M_rotating_min &lt;- 2.0</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
</NameSpace>
