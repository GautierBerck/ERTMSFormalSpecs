<NameSpace
 X="10"
 Y="620"
 Width="100"
 Height="50"
 Name="ModeRules"
 Guid="210b07dc-d8e7-4508-b482-96d4a32b7348"
>
<NameSpaces>
</NameSpaces>
<Procedures>
<Procedure
 X="661"
 Y="1"
 Width="100"
 Height="50"
 Name="HandleStoredInformation"
 Guid="ce9c886a-34c4-4693-98ca-4628cd1056d1"
>
<ReqRef
 Id="54df0d45-15e2-4548-8648-7a96a61e1227"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4fc09b6e-6c35-411a-a172-35ed263aa489"
>
</ReqRef><ReqRef
 Id="f1a72111-334b-4c63-9709-ceaeefe93df9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fd62e69e-5f88-4373-842e-3153c4d6677f"
>
</ReqRef><Rules>
<Rule
 Name="Handle National Values"
 Guid="c42f0a6e-4f26-4007-9865-95daee50f3b8"
>
<ReqRef
 Id="0aac2566-835d-44ac-a0b4-c772bd3c545b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="4fdff24a-5a97-4b42-96da-2d88c3a89667"
>
</ReqRef><Comment>National values are always unchanged (since &quot;NR&quot; is considered the same as &quot;U&quot;)</Comment>
<SubRules></SubRules>
</Rule><Rule
 Name="Handle Not yet applicable National Values"
 Guid="55e5fa54-105b-4fa5-b539-ecf5e27768f9"
>
<ReqRef
 Id="de696b0d-7dc0-4f7d-a1a3-a2085fff0c6d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ba274f0b-b61c-4d29-92e5-2daa682d9aac"
>
</ReqRef><SubRules></SubRules>
</Rule><Rule
 Name="Handle Linking"
 Guid="f79c567f-e5ca-4f50-9ddf-672c8fdfaba1"
>
<ReqRef
 Id="1d3d434d-574c-4ec5-9655-c85d6721c8d9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="489b5344-2291-4bce-9229-4ea3817d5fb5"
>
</ReqRef><SubRules></SubRules>
</Rule><Rule
 Name="Handle Movement Authority"
 Guid="fdee097b-5c44-4dfc-8642-a77e2c06caf4"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ec7020bc-3bf1-4945-877d-8c188b6a6a67"
>
</ReqRef><ReqRef
 Id="9d4797ea-78a8-430b-95ff-ab8ccf427197"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="1bbe1b2e-5d3a-4275-becb-a823e57dbcd4"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleMA"
 Guid="33741c8e-4324-4647-9e25-38f0e333db77"
>
<PreConditions>
<PreCondition
 Guid="8d3bfbb4-2990-45b9-a602-c17071a67694"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3213db86-c76f-4338-af19-87e5e3baa18c"
>MA.MA &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Gradient Profile"
 Guid="008b6cfb-1642-4bcd-817c-c5de4cc750d4"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="8be27502-e71e-493b-8c8f-b25ac62a3baa"
>
</ReqRef><ReqRef
 Id="2f2df53c-e717-4abf-bcd7-995bdf07a8bc"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0b2b4498-e23d-42cf-b855-64f587f63ea7"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Handle Gradient Profile"
 Guid="0ed42227-74ae-4b09-a641-e2bdc9f4b5d5"
>
<PreConditions>
<PreCondition
 Guid="7e47b9b3-f88b-435d-be06-489d85102444"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="83695b4e-6e2e-471e-a33a-b09bb6e1e5fd"
>TrackDescription.Gradient.Gradients &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle International SSP"
 Guid="a50646b0-5b9b-4e23-b00f-f33c1d3add66"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d9e00ebf-5202-4b5e-849a-39e32e10adbb"
>
</ReqRef><ReqRef
 Id="f5d2b12f-7119-4063-9f34-c47c3f83ccdf"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="da642096-1a4d-450f-81d6-a038acd4fc7c"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleSSP"
 Guid="b563b33e-457b-496a-a9d4-570827293730"
>
<PreConditions>
<PreCondition
 Guid="3ebc735d-5a3f-466e-9749-d2766fa92430"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="bc3cd369-f546-4727-9119-65c20eba5538"
>TrackDescription.StaticSpeedProfile.SSP &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Axle load speed profile"
 Guid="0723e2ee-e8cb-4631-b60a-4b4b817ab48e"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e4192a45-9e02-4469-bcf3-58d080fdbdf9"
>
</ReqRef><ReqRef
 Id="29c38dc0-760e-489c-b451-a83537cb9e44"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e5b1e27a-4115-4815-b6d0-e554fa61dd2b"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleAxleLoadSpeed"
 Guid="4d48208a-57f5-4741-a8b1-380c1531f5a5"
>
<PreConditions>
<PreCondition
 Guid="54bb23ce-770d-4b8c-a6c9-da92173cbaae"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="3b6b19ed-4fd4-4f6f-9c3e-0c7850690505"
>TrackDescription.AxleLoad.ASP &lt;- TrackDescription.AxleLoad.AxleLoadProfileStruct{
    InitialState =&gt; Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow,
    EmptyProfileDistance =&gt; 0.0,
    ALs =&gt; []
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Route Suitability Data"
 Guid="a177dafa-0b69-4574-80b8-f1a740a82b7a"
>
<ReqRef
 Id="ed33eb7f-8b9e-4485-9e25-62147cd368ff"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="76778f54-3b45-43b2-b257-ce32bfbeca50"
>
</ReqRef><ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="65836dc4-f7fe-415a-90dd-06a0ae2a01a4"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleRouteSuitability"
 Guid="542e0fcf-3e34-41b3-aa94-3c57ffc3b34c"
>
<PreConditions>
<PreCondition
 Guid="d884d8a2-9654-40b3-8fdc-8c65deeef831"
>PrevMode != Mode AND Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="c574f4fe-de1f-491c-a4b0-1fc80d9cc8c6"
>TrackDescription.RouteSuitability.RouteSuitabilityProfile &lt;- TrackDescription.RouteSuitability.RouteSuitabilityInformationStruct{
    EmptyProfileDistance =&gt; 0.0,
    InitialState =&gt; Messages.Q_TRACKINIT.No_initial_states_to_be_resumed__profile_to_follow,
    Items =&gt; []
}</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Adhesion Factors"
 Guid="d171824f-953d-446c-8b0f-8778988b2f55"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="3ff47421-8a53-491c-9099-791fc28f8370"
>
</ReqRef><ReqRef
 Id="941b0b9c-8d1a-40e9-9fdb-b2f562a6ab57"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ba08bdcd-f9e5-4deb-bc2e-710bfe764f5f"
>
</ReqRef><ReqRef
 Id="2cc71448-b090-4455-95e4-1d187ca9debe"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ebd11de4-7573-4475-ac09-d824209bec63"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleAdhesionFactor"
 Guid="3d6deb1d-3a6d-4c77-b03c-4320fb60de7d"
>
<PreConditions>
<PreCondition
 Guid="ac02df1c-5c73-4512-8992-b2764893a817"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SL, Default.Mode.NL, Default.Mode.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="51c26205-54cc-4334-9fef-e647f4478723"
>TrackDescription.AdhesionFactors.AdhFactors &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Track Conditions 1"
 Guid="0e721665-38cb-4fc4-b13b-4af1800424fd"
>
<ReqRef
 Id="c1c2e72d-abfa-40cc-ab4e-10dd67d304e9"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="e1795896-1e90-42f1-a6ed-b3568c18d72b"
>
</ReqRef><ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0cb6a7e4-4c78-4330-96d1-8814a04ec8dc"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleTrackConditions1"
 Guid="3108c1e5-a0b1-4b00-a061-310f34de156f"
>
<PreConditions>
<PreCondition
 Guid="60ff603d-530d-4734-95b0-d600e8b8922d"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.UN, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="67db5d7f-5b93-4297-87b9-a9bc1fc31e39"
>TrackDescription.TrackConditions.General.TCProfile &lt;- MAP TrackDescription.TrackConditions.General.TCProfile USING X IN TrackDescription.TrackConditions.General.HandleTCPwhenEnteringGivenMode1( X )</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Track Conditions 2"
 Guid="45888872-8b5a-4ce6-90ff-90c44d1cbd8b"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="924d4941-0472-4ab5-a4f7-7fed0bd0e2aa"
>
</ReqRef><ReqRef
 Id="81e057d0-016b-449f-8994-c2a6d7b34729"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="ceccf6d1-c5f4-465c-9952-0898beddaeee"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleTrackConditions2"
 Guid="4e20a0da-fbc1-4dd8-9d40-38433acb61d0"
>
<PreConditions>
<PreCondition
 Guid="f444f2cc-19a0-451d-9b58-2d4973a19949"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.PT, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="36e7dd40-ce3d-4111-98c0-eba98f5676df"
>TrackDescription.TrackConditions.General.TCProfile&lt;- MAP TrackDescription.TrackConditions.General.TCProfile USING X IN TrackDescription.TrackConditions.General.HandleTCPwhenEnteringGivenMode2( X )</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Train Data"
 Guid="b5ecf93a-97fe-4f39-bca3-8aa51d036e47"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="f9601222-95a6-4a6d-9019-ad5902a41331"
>
</ReqRef><ReqRef
 Id="d73b7418-d053-4ed9-a4a8-f4d09322825b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="99b6e7fe-6ee9-4c0e-baa5-b709aefaf14c"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="Deleted"
 Guid="7c27df7a-de45-4ba4-b129-933be0f48a46"
>
<PreConditions>
<PreCondition
 Guid="e4a6977b-91fe-4cd0-8d36-90eac8f70160"
>Mode in [ Default.Mode.NP ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="a7fa7c59-c015-4adc-8b14-1b717c6c824f"
>TrainData.TrainData.DataState &lt;- DataState.Unknown</Action></Actions>
</RuleCondition><RuleCondition
 Name="To Be Revalidated"
 Guid="a954f9d8-4fd2-49ec-8bb6-01212dec5d15"
>
<PreConditions>
<PreCondition
 Guid="0de5e303-7fbd-41ef-8706-74718074308f"
>Mode in [ Default.Mode.SB, Default.Mode.SH ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="15b9edf9-aa53-4327-97e1-77a65bdf3a2b"
>TrainData.TrainData.DataState &lt;- DataState.Invalid</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Reversing Area Information"
 Guid="cbcd26bc-a7d0-4d9a-a9aa-7bd381816e3a"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b62a916a-2353-45c4-9af0-815c7b2c505a"
>
</ReqRef><ReqRef
 Id="c73c1fbd-5f6c-419c-a6c2-1a8c81cca57b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="5a6765ea-a472-4d83-9eef-edd39c29a2d6"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandleReversingArea"
 Guid="9a81b207-908d-4e21-899e-529161a902b0"
>
<PreConditions>
<PreCondition
 Guid="cc72fb29-7c92-4cfd-9f99-a968f754163d"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="320557ce-506b-4c99-ae20-e0d18a68e85e"
>TrackDescription.ReversingArea.ReversingAreaProfile &lt;- EMPTY</Action></Actions>
</RuleCondition></Conditions>
</Rule><Rule
 Name="Handle Permitted Braking Distance Information"
 Guid="aff11fb8-d3f5-4a16-bda5-704ec341a1c5"
>
<ReqRef
 Id="9a9d1994-65cc-4ce3-8805-06dbf30f991b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a42aea9e-8650-449c-9564-e6a2e175ab23"
>
</ReqRef><ReqRef
 Id="038f5c97-bc09-46ad-b0e4-501cc3a9893a"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="a03a0e80-9776-4f8d-924b-beee9b1928ec"
>
</ReqRef><SubRules></SubRules>
<Conditions>
<RuleCondition
 Name="HandlePermittedBrakingDistance"
 Guid="e5b96db3-42b4-454a-9b6c-2de56f58930b"
>
<PreConditions>
<PreCondition
 Guid="559ce49c-0709-4837-91be-158aa7275ed1"
>Mode in [ Default.Mode.NP, Default.Mode.SB, Default.Mode.PS, Default.Mode.SH, Default.Mode.SR, Default.Mode.SL, Default.Mode.NL, Default.Mode.UN, Default.Mode.TR, Default.Mode.SN, Default.Mode.RV ]</PreCondition></PreConditions>
<Actions>
<Action
 Guid="0fd29861-ded9-46ee-8138-16aff5ba6fc2"
>TrackDescription.PermittedBrakingDistance.SpeedRestrictionsProfile.SpeedRestrictions &lt;- []</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</Procedure></Procedures>
<Rules>
<Rule
 Priority="Processing"
 X="771"
 Y="1"
 Width="100"
 Height="50"
 Implemented="TRUE"
 Name="Emergency brakes commanded"
 Guid="b1e500b6-da18-463a-a1df-c3830ba655e9"
>
<ReqRef
 Id="cbe34815-cb07-47d0-aa70-8e503a0dd8ac"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="be98c7f7-595e-4951-ba7a-40ca43f2cde8"
>
</ReqRef><ReqRef
 Id="c8a247ef-0cc1-4086-9306-42e2ff40d35d"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="fed645ef-220e-4bc5-8cd8-3c15bb99ebd8"
>
</ReqRef><ReqRef
 Id="cb89fa5e-3586-488f-81d3-0b25fac37ed3"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="b9279120-1333-4052-811b-e5b0c62c083a"
>
</ReqRef><ReqRef
 Id="4ed6e0bf-f428-48af-a212-af1983b66f2b"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="0be80d31-4936-4553-82f7-9b58587268a7"
>
</ReqRef><Comment>Keep the emergency brake commanded in modes that require it.</Comment>
<SubRules></SubRules>
<Conditions>
<RuleCondition
 Implemented="TRUE"
 Name="Command emergency brake"
 Guid="a5ff7100-f174-471b-bc1f-272a18397ba2"
>
<ReqRef
 Id="fcee3944-2911-422c-babf-349b36eaa478"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="09bc0268-9693-4bd4-ac67-dbd6e8b7c11f"
>
</ReqRef><ReqRef
 Id="88305e66-3a01-4328-8957-6bb64a87e149"
 SpecId="1725280b-f696-4860-94cc-d85f62c35214"
 Guid="d1a55985-14ae-4f1b-9d3d-f223fe538437"
>
</ReqRef><PreConditions>
</PreConditions>
<Actions>
<Action
 Guid="2f519e9a-6de5-419c-951b-9cb427818a68"
>TIU.Brakes.EmergencyBrakes.ModeRelatedEB &lt;- ActiveFunctions.CommandEmergencyBrake()</Action></Actions>
</RuleCondition></Conditions>
</Rule></Rules>
</NameSpace>
